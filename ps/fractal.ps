%%%%%%%%%%%%%%%%%%%%%
% Tanner Kvarfordt  %
% A02052217         %
% CS4700            %
% Homework 1        %
%%%%%%%%%%%%%%%%%%%%%

% Be sure to DOCUMENT the operator especially inputs
% and outputs.
/fractal { 
    gsave
    1 dict begin

    count 0 gt {

        /num exch def % number of times to recurse

        num 0 gt {

          square 
          gsave
          -50 -50 translate  % translate left to prepare to draw left fractal
          0.5 0.5 scale      % halve the scale
          num 1 sub fractal  % draw the left fractal and its children (if any)
          grestore           % recenter in original square

          25 -50 translate   % translate right to prepare to draw right fractal
          0.5 0.5 scale      % halve the scale
          num 1 sub fractal  % draw the right fractal and its children (if any)
        } if
    } if

    end
    grestore
} def


% Draws a square. Takes no input
/square {
    1 dict begin

    0 0 moveto

    0 50 lineto      % draw left side of square
    50 50 lineto     % draw top of square
    50 0 lineto      % draw right side of square
    0 0 lineto fill  % draw bottom of square

    25 25 translate  % recenter in center of square for easy calculations in 'fractal' operator

    stroke

    end 
} def


